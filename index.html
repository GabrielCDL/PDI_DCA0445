<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Site de PDI</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Processamento Digital de Imagens</h1>
    <p>Questões, códigos e figuras explicativas</p>
  </header>

  <main>
    <section class="questao">
      <h2>Questão 1.1: Manipulando pixels em uma imagem</h2>
      <p>O programa inicial solicita ao usuário as coordenadas e captura o negativo da área retangular. O algoritmo converte a imagem em tons de cinza e, para cada pixel na região, calcula 255 menos o valor do pixel:</p>
      <pre><code>
        # Invert img operation
        for i in range(start_point[0], end_point[0]):
        for j in range(start_point[1], end_point[1]):
        img[j][i] = 255 - img[j][i]
      </code></pre>
      <img src="imagens/inverted_chihiro.jpg" alt="Imagem invertida" />
    </section>

    <section class="questao">
        <h2>Questão 1.2: Troca de regiões</h2>
        <p>Este código particiona a imagem em quatro quadrantes e troca suas respectivas regiões:</p>
        <pre><code>
            rows, cols = img.shape[:2]

            # Getting quadrant img
            quad_1 = img[0:rows//2, 0:cols//2]
            quad_2 = img[0:rows//2, cols//2:cols]
            quad_3 = img[rows//2:rows, 0:cols//2]
            quad_4 = img[rows//2:rows, cols//2:cols]
            
            new_img = np.empty_like(img)
            
            # Realocating quadrants in new image
            new_img[0:rows//2, 0:cols//2] = quad_4
            new_img[rows//2:rows, cols//2:cols] = quad_1
            new_img[rows//2:rows, 0:cols//2] = quad_2
            new_img[0:rows//2, cols//2:cols] = quad_3
        </code></pre>
        <img src="imagens/totoro.jpg" alt="Antes da troca de regiões" />
        <img src="imagens/swapped_totoro.jpg" alt="Depois da troca de regiões" />
      </section>

      <h2>Questão 2: Decomposição de imagens em planos de bits</h2>
      <p>De acordo com N. F. Johnson e S. Jajodia (1998), a esteganografia é uma técnica que envolve ocultar um arquivo dentro de outro de forma criptografada. Ao contrário da criptografia, que busca tornar as mensagens incompreensíveis, o objetivo da esteganografia é esconder a existência de uma mensagem específica, camuflando-a dentro de arquivos, como imagens, músicas, vídeos ou textos. Com essa abordagem, é possível ocultar mensagens dentro de imagens, por exemplo, sem despertar suspeitas de que algo esteja escrito nelas. No exemplo abaixo temos uma imagem contida em outra. Para descobrirmos a mensagem escondida dentro da imagem portadora usaremos operação bit a bit. Para isso, foi retirado os 5 bits mais significativos dos pixels da variável img_carrier e os 3 bits menos significativos serão alocados em uma nova variável img_encoded.</p>
      <pre><code>
        import cv2
        import numpy as np
        
        img = cv2.imread("unidade 01\decomposicao_img_bits\imgs\desafio-esteganografia.png")
        
        if img is None:
            print("Erro ao abrir a imagem")
            exit()
        
        img_carrier = np.copy(img)
        img_encoded = np.copy(img)
        nbits = 3
        
        img_carrier = img >> nbits << nbits
        img_encoded = img << (8 - nbits)
        
        cv2.imshow("Imagem portadora", img_carrier)
        cv2.imshow("Imagem codificada", img_encoded)
        cv2.waitKey()
      </code></pre>
      <img src="imagens/desafio-esteganografia.png" alt="Imagem codificada" />
      <img src="imagens/imagem_decodificada.png" alt="Imagem escondida" />
    </section>  
  </main>

  <footer>
    <p>&copy; 2025 - Gabriel CDL | PDI - DCA0445</p>
  </footer>
</body>
</html>
